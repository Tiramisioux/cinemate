50.179: INFO: main               Contents of /home/pi/cinemate/src/logs/system.log have been erased.
50.179: INFO: main               Contents of /home/pi/cinemate/src/logs/cinemate-service.log have been erased.
50.180: INFO: main               Contents of /home/pi/cinemate/src/logs/cinemate-service-error.log have been erased.
50.194: INFO: wifi_hotspot       WiFi hotspot is already active. Skipping creation.
50.196: INFO: redis_controller   Initializing cache with Redis values...
50.199: INFO: PWMcontroller      Initializing PWM on pin 19 (channel 3) with frequency 24Hz and chip 2
50.199: INFO: redis_controller   Changed value: pi_model = pi5
50.199: INFO: PWMcontroller      PWM successfully initialized on pin 19 (channel 3) with frequency 24Hz
50.200: INFO: PWMcontroller      Updating PWM with cycles=1
50.208: INFO: PWMcontroller      PWM duty cycle set to 49.999237048905165% on pins 19, None
50.354: INFO: sensor_detect      cinepi-raw output: Available cameras
-----------------
0 : imx585 [3840x2160 16-bit RGGB] (/base/axi/pcie@120000/rp1/i2c@80000/imx585@1A)
    Modes: 'SRGGB12_CSI2P' : 1928x1090 [87.60 fps - (0, 0)/3840x2160 crop]
                             3856x2180 [43.80 fps - (0, 0)/3840x2160 crop]
           'SRGGB16' : 1928x1090 [30.00 fps - (0, 0)/3840x2160 crop]
                       3856x2180 [21.90 fps - (0, 0)/3840x2160 crop]


50.354: INFO: sensor_detect      Detected camera model: imx585
50.355: WARNING: sensor_detect      cinepi-raw command exited with non-zero status: 134
50.355: WARNING: sensor_detect      stderr: terminate called after throwing an instance of 'std::system_error'
  what():  Invalid argument
Aborted

50.502: INFO: sensor_detect      cinepi-raw output: Available cameras
-----------------
0 : imx585 [3840x2160 16-bit RGGB] (/base/axi/pcie@120000/rp1/i2c@80000/imx585@1A)
    Modes: 'SRGGB12_CSI2P' : 1928x1090 [87.60 fps - (0, 0)/3840x2160 crop]
                             3856x2180 [43.80 fps - (0, 0)/3840x2160 crop]
           'SRGGB16' : 1928x1090 [30.00 fps - (0, 0)/3840x2160 crop]
                       3856x2180 [21.90 fps - (0, 0)/3840x2160 crop]


50.502: INFO: sensor_detect      Detected camera model: imx585
50.502: WARNING: sensor_detect      cinepi-raw command exited with non-zero status: 134
50.502: WARNING: sensor_detect      stderr: terminate called after throwing an instance of 'std::system_error'
  what():  Invalid argument
Aborted

50.502: INFO: cinepi_app         CinePi instantiated
50.503: INFO: cinepi_app         Log level set to INFO
50.503: INFO: cinepi_app         Active filters set to: 
50.503: INFO: ssd_monitor        SSD monitoring thread started.
50.506: INFO: ssd_monitor        RAW drive mounted at /media/RAW
50.506: INFO: ssd_monitor        Updated space left on SSD: 219.70 GB
50.507: INFO: gpio_output        REC light instantiated on pin 6
50.507: INFO: gpio_output        REC light instantiated on pin 21
50.509: INFO: redis_controller   Changed value: framecount = 0
50.510: INFO: redis_controller   Changed value: rec = 0
50.513: INFO: redis_controller   Changed value: sensor = imx585
50.513: INFO: cinepi_controller  Settings loaded successfully.
50.513: INFO: redis_controller   Changed value: fps_max = 28
50.514: INFO: cinepi_controller  Initialized fps_steps: [1, 2, 4, 8, 12, 16, 18, 24, 25]
50.514: INFO: cinepi_controller  Initialized shutter_a_steps: [1, 45, 90, 135, 172.8, 180, 225, 270, 315, 346.6, 360]
50.515: INFO: cinepi_controller  Loading tuning file from: /home/pi/cinemate/resources/tuning_files/imx585.json
50.515: INFO: redis_controller   Changed value: fps_max = 28
50.515: INFO: cinepi_controller  Tuning data loaded successfully.
50.517: INFO: cinepi_controller  'rpi.awb' data found: {'use_derivatives': 0, 'bayes': 0}
50.517: WARNING: cinepi_controller  'ct_curve' not found in 'rpi.awb' data, using default ct_curve.
50.517: INFO: cinepi_controller  Parsed temperatures: [2187.0, 2258.0, 5225.0, 5289.0, 6532.0]
50.517: INFO: cinepi_controller  Parsed r_values: [1.1114, 1.1063, 0.6631, 0.5769, 0.5259]
50.517: INFO: cinepi_controller  Parsed b_values: [0.1026, 0.1147, 0.5507, 0.5731, 0.5801]
50.517: INFO: cinepi_controller  Interpolating for wb step: 3200K, lower index: 1, upper index: 2
50.518: INFO: cinepi_controller  Interpolated values for 3200K - r_interp: 0.9655873609706775, b_interp: 0.25312669362992923
50.518: INFO: cinepi_controller  Calculated reciprocal cg_rb for 3200K: (1.0, 4.0)
50.518: INFO: cinepi_controller  Interpolating for wb step: 4400K, lower index: 1, upper index: 2
50.518: INFO: cinepi_controller  Interpolated values for 4400K - r_interp: 0.7863355915065724, b_interp: 0.4294664307381193
50.518: INFO: cinepi_controller  Calculated reciprocal cg_rb for 4400K: (1.3, 2.3)
50.518: INFO: cinepi_controller  Interpolating for wb step: 5600K, lower index: 3, upper index: 4
50.518: INFO: cinepi_controller  Interpolated values for 5600K - r_interp: 0.5641397425583267, b_interp: 0.5748514078841512
50.519: INFO: cinepi_controller  Calculated reciprocal cg_rb for 5600K: (1.8, 1.7)
50.519: INFO: cinepi_controller  Initialized wb_cg_rb_array: {3200: (1.0, 4.0), 4400: (1.3, 2.3), 5600: (1.8, 1.7)}
50.519: INFO: cinepi_controller  Settings loaded successfully.
50.519: INFO: cinepi_controller  Received set_fps call with value: 24.0
50.520: INFO: cinepi_controller  Retrieved max_fps from Redis: 28
50.520: INFO: cinepi_controller  Calculated safe_value: 24.0
50.520: INFO: cinepi_controller  Setting fps to 24.0
50.521: INFO: redis_controller   Changed value: fps = 24.0
50.521: INFO: cinepi_controller  [1, 45, 90, 135, 172.8, 180, 225, 270, 315, 346.6, 360]
50.521: INFO: cinepi_controller  Initialized fps: 24
50.521: INFO: redis_controller   Changed value: fps_last = 24.0
50.522: INFO: redis_controller   Changed value: fps_last = 24.0
50.523: INFO: redis_controller   Changed value: sensor_mode = 1
50.524: INFO: cinepi_controller  Resolution set to mode 1, height: 2180, width: 3856, gui_layout: 0
50.525: INFO: redis_controller   Changed value: height = 2180
50.525: INFO: redis_controller   Changed value: width = 3856
50.525: INFO: redis_controller   Changed value: bit_depth = 12
50.525: INFO: redis_controller   Changed value: fps_max = 28
50.525: INFO: redis_controller   Changed value: gui_layout = 0
50.526: INFO: redis_controller   Changed value: file_size = 13
50.526: INFO: redis_controller   Changed value: cam_init = 1
51.025: INFO: cinepi_app         Restarting CinePi instance.
51.026: INFO: redis_controller   Changed value: fps_last = 24.0
51.197: INFO: sensor_detect      cinepi-raw output: Available cameras
-----------------
0 : imx585 [3840x2160 16-bit RGGB] (/base/axi/pcie@120000/rp1/i2c@80000/imx585@1A)
    Modes: 'SRGGB12_CSI2P' : 1928x1090 [87.60 fps - (0, 0)/3840x2160 crop]
                             3856x2180 [43.80 fps - (0, 0)/3840x2160 crop]
           'SRGGB16' : 1928x1090 [30.00 fps - (0, 0)/3840x2160 crop]
                       3856x2180 [21.90 fps - (0, 0)/3840x2160 crop]


51.198: INFO: sensor_detect      Detected camera model: imx585
51.198: WARNING: sensor_detect      cinepi-raw command exited with non-zero status: 134
51.198: WARNING: sensor_detect      stderr: terminate called after throwing an instance of 'std::system_error'
  what():  Invalid argument
Aborted

51.199: INFO: cinepi_app         Issuing ['cinepi-raw', '--mode', '3856:2180:12:U', '--width', '3856', '--height', '2180', '--lores-width', '1280', '--lores-height', '720', '-p', '0,30,1920,1020', '--post-process-file', '/home/pi/post-processing.json', '--shutter', '20000', '--awbgains', '2.5,2.0', '--awb', 'auto', '--tuning-file', '/home/pi/libcamera/src/ipa/rpi/pisp/data/imx585.json']
51.200: INFO: cinepi_controller  Received set_fps call with value: 24.0
51.201: INFO: cinepi_controller  Retrieved max_fps from Redis: 28
51.201: INFO: redis_controller   Changed value: sensor = imx585
51.202: INFO: cinepi_controller  Calculated safe_value: 24.0
51.203: INFO: cinepi_controller  Setting fps to 24.0
51.205: INFO: redis_controller   Changed value: fps = 24.0
51.205: INFO: cinepi_controller  [1, 45, 90, 135, 172.8, 180, 225, 270, 315, 346.6, 360]
51.206: INFO: cinepi_controller  Initialized fps_steps: [1, 2, 4, 8, 12, 16, 18, 24, 25]
51.207: INFO: cinepi_controller  [1, 45, 90, 135, 172.8, 180, 225, 270, 315, 346.6, 360]
51.207: INFO: redis_controller   Changed value: fps_last = 24.0
51.208: INFO: gpio_input         Button on pin 4:
51.208: INFO: gpio_input           Press: rec
51.208: INFO: redis_controller   Changed value: fps_max = 28
51.212: INFO: redis_controller   Changed value: sensor = imx585
51.213: INFO: gpio_input         Button on pin 5:
51.213: INFO: gpio_input           Press: rec
51.215: INFO: gpio_input         Button on pin 27:
51.215: INFO: gpio_input           Press: inc_iso
51.216: INFO: gpio_input         Button on pin 10:
51.216: INFO: gpio_input           Press: dec_iso
51.218: INFO: gpio_input         Button on pin 22:
51.218: INFO: gpio_input           Press: set_all_lock
51.219: INFO: gpio_input         Button on pin 12:
51.219: INFO: gpio_input           Single Click: set_shutter_a_sync_mode
51.220: INFO: gpio_input         Button on pin 1:
51.220: INFO: gpio_input           Single Click: set_fps_double
51.220: INFO: gpio_input           Double Click: set_trigger_mode
51.222: INFO: gpio_input         Button on pin 13:
51.222: INFO: gpio_input           Single Click: set_resolution
51.222: INFO: gpio_input           Double Click: restart_camera
51.222: INFO: gpio_input           Triple Click: reboot
51.222: INFO: gpio_input           Hold: unmount
51.223: INFO: gpio_input         Rotary Encoder with Button on CLK pin: 9, DT pin: 11
51.223: INFO: gpio_input           Rotate Clockwise: inc_iso
51.223: INFO: gpio_input           Rotate CounterClockwise: dec_iso
51.225: INFO: gpio_input         Rotary Encoder with Button on CLK pin: 24, DT pin: 25
51.225: INFO: gpio_input           Rotate Clockwise: inc_shutter_a_nom
51.225: INFO: gpio_input           Rotate CounterClockwise: dec_shutter_a_nom
51.226: INFO: gpio_input         Rotary Encoder with Button on CLK pin: 0, DT pin: 8
51.226: INFO: gpio_input           Rotate Clockwise: inc_fps
51.226: INFO: gpio_input           Rotate CounterClockwise: dec_fps
51.228: INFO: gpio_input         Rotary Encoder with Button on CLK pin: 16, DT pin: 20
51.228: INFO: gpio_input           Rotate Clockwise: inc_wb
51.228: INFO: gpio_input           Rotate CounterClockwise: dec_wb
51.525: INFO: redis_listener     Framecount is changing
51.526: INFO: redis_controller   Changed value: rec = 1
51.762: INFO: gpio_input         Quad Rotary Encoder found and initialized
51.765: INFO: redis_controller   Changed value: framecount = 0
51.766: INFO: redis_controller   Changed value: rec = 0
51.767: INFO: simple_gui         HDMI display found. (1920, 1080)
51.899: INFO: main               Stream module loaded
51.899: INFO: mediator           Mediator instantiated
52.789: WARNING: redis_listener     Not enough sensor timestamps to calculate average framerate.
52.790: WARNING: redis_listener     Not enough sensor timestamps to calculate average framerate.
52.792: INFO: redis_listener     Drop frame detected
52.792: INFO: redis_listener     Drop frame detected
52.904: INFO: main               Loaded WB steps: [3200, 4400, 5600]
52.904: INFO: analog_controls    Grove Base HAT not found.
52.905: ERROR: main               Invalid trigger_mode value retrieved: 0
52.905: INFO: main               Initialized WB steps: [3200, 4400, 5600]
52.906: INFO: cinepi_controller  Set white balance for 3200K: (1.0, 4.0)
52.906: INFO: main               --- initialization complete
52.906: INFO: redis_controller   Changed value: cg_rb = 1.0,4.0
52.907: INFO: redis_controller   Changed value: wb_user = 3200
52.907: INFO: redis_controller   Changed value: fps = 24.0
52.908: INFO: PWMcontroller      Setting PWM with fps=24.0, shutter_angle=None
52.908: INFO: PWMcontroller      PWM frequency set to 24.0Hz on pins 19, None
52.909: INFO: PWMcontroller      Shutter angle is None, keeping existing duty cycle.
52.909: INFO: PWMcontroller      Updating PWM with cycles=1
52.916: INFO: PWMcontroller      PWM duty cycle set to 49.999237048905165% on pins 19, None
53.293: INFO: redis_listener     Drop frame flag reset
53.295: INFO: redis_listener     Drop frame flag reset
53.355: INFO: redis_listener     Framecount is stable
53.356: INFO: redis_controller   Changed value: rec = 0
53.356: INFO: mediator           Recording stopped!
53.356: INFO: gpio_output        GPIO 6 set to LOW
53.356: INFO: gpio_output        GPIO 21 set to LOW
57.484: INFO: main               Graceful shutdown initiated.
57.493: WARNING: redis_listener     Recording stopped, but no recording start time was registered.
57.493: WARNING: redis_listener     Recording stopped, but no recording start time was registered.
57.494: INFO: redis_controller   Changed value: is_recording = 0
57.498: INFO: redis_listener     Framecount reset to 0.
57.507: INFO: redis_controller   Changed value: is_writing = 0
57.510: INFO: redis_controller   Changed value: shutter_a_nom = 180
57.513: INFO: redis_controller   Changed value: cg_rb = 2.5,2.0
57.514: INFO: PWMcontroller      PWM stopped
57.515: INFO: redis_controller   Changed value: rec = 0
57.515: INFO: PWMcontroller      PWM stopped
57.515: INFO: mediator           Recording stopped!
57.516: INFO: gpio_output        GPIO 6 set to LOW
57.516: INFO: gpio_output        GPIO 21 set to LOW
57.517: INFO: redis_controller   Changed value: framecount = 0
57.632: INFO: main               Graceful shutdown initiated.
57.812: INFO: main               Graceful shutdown initiated.
57.992: INFO: main               Graceful shutdown initiated.
